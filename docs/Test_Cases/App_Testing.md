# Tài liệu Kiểm thử Ứng dụng

## Tổng quan
Tài liệu này chứa các trường hợp kiểm thử cho ứng dụng Java Desktop SecureInsure-Testing, là một phần của dự án nhóm hai người dưới chủ đề "Nghiên cứu về Bảo mật API và Ứng dụng của nó trong Xây dựng Ứng dụng Đa Nền tảng (Thạc sĩ Võ Ngọc Tấn Phước)".

## 5.2. Danh sách các tình huống kiểm thử
| STT | Mã testcase           | Tên testcase                              | Mô tả                                                                 |
|-----|-----------------------|-------------------------------------------|----------------------------------------------------------------------|
| 7   | TC_LOGIN_APP_01       | Đăng nhập qua App với user không tồn tại (Lần 1) | Đăng nhập với email không tồn tại, kiểm tra response và giao diện lỗi. |
| 8   | TC_LOGIN_APP_02       | Đăng nhập qua App với user không tồn tại (Lần 2) | Đăng nhập với email không tồn tại, kiểm tra response và thông báo lỗi trên giao diện. |
| 9   | TC_LOGIN_APP_03       | Đăng nhập qua App với user admin bị chặn (Lần 1) | Đăng nhập với user admin có status "Blocked", kiểm tra response và giao diện lỗi. |
| 10  | TC_LOGIN_APP_04       | Đăng nhập qua App với user admin bị chặn (Lần 2) | Đăng nhập với user admin có status "Blocked", kiểm tra response và thông báo lỗi. |
| 11  | TC_ROLE_APP_01        | Phân quyền truy cập TaskPanel (Lần 1)     | Kiểm tra phân quyền: admin vào TaskPanel, customer bị chặn và chuyển hướng. |
| 12  | TC_ROLE_APP_02        | Phân quyền truy cập TaskPanel (Lần 2)     | Kiểm tra phân quyền với logic bổ sung, kiểm tra lỗi NullPointerException. |
| 13  | TC_ROLE_APP_03        | Phân quyền truy cập TaskPanel (Lần 3)     | Kiểm tra phân quyền sau khi sửa logic, đảm bảo customer bị chặn đúng cách. |
| 14  | TC_GETUSER_APP_01     | Hiển thị danh sách người dùng trên TaskPanel (Lần 1) | Kiểm tra hiển thị danh sách người dùng, kiểm tra nút refresh không làm mất dữ liệu. |
| 15  | TC_GETUSER_APP_02     | Hiển thị danh sách người dùng trên TaskPanel (Lần 2) | Kiểm tra hiển thị danh sách, một số trường bị thiếu (null), kiểm tra refresh. |
| 16  | TC_GETUSER_APP_03     | Hiển thị danh sách người dùng trên TaskPanel (Lần 3) | Kiểm tra hiển thị danh sách người dùng đầy đủ, kiểm tra refresh giữ nguyên dữ liệu. |
| 17  | TC_ADDUSER_APP_01     | Thêm người dùng mới trên TaskPanel (Lần 1) | Thêm user mới, kiểm tra giao diện và database, dự kiến lỗi. |
| 18  | TC_ADDUSER_APP_02     | Thêm người dùng mới trên TaskPanel (Lần 2) | Thêm user mới, kiểm tra giao diện và database, dự kiến lỗi 404. |
| 19  | TC_ADDUSER_APP_03     | Thêm người dùng mới trên TaskPanel (Lần 3) | Thêm user mới, kiểm tra giao diện và database, đảm bảo thành công. |
| 20  | TC_ADDUSER_APP_04     | Thêm người dùng với email đã tồn tại (Lần 1) | Thêm user với email đã tồn tại, kiểm tra thông báo lỗi và database không cập nhật. |
| 21  | TC_ADDUSER_APP_04     | Thêm người dùng với email đã tồn tại (Lần 2) | Thêm user với email đã tồn tại, kiểm tra thông báo lỗi và database không cập nhật. |
| 22  | TC_DELETEUSER_APP_01  | Xóa người dùng trên TaskPanel (Lần 1)     | Xóa user, kiểm tra giao diện và database, dự kiến lỗi. |
| 23  | TC_DELETEUSER_APP_02  | Xóa người dùng trên TaskPanel (Lần 2)     | Xóa user, kiểm tra giao diện và database, dự kiến lỗi. |
| 24  | TC_DELETEUSER_APP_03  | Xóa người dùng trên TaskPanel (Lần 3)     | Xóa user, kiểm tra giao diện và database, đảm bảo thành công. |
| 25  | TC_UPDATEUSER_APP_01  | Sửa thông tin người dùng trên TaskPanel (Lần 1) | Sửa thông tin user, kiểm tra EditUserDialog và database, dự kiến lỗi. |
| 26  | TC_UPDATEUSER_APP_02  | Sửa thông tin người dùng trên TaskPanel (Lần 2) | Sửa thông tin user, kiểm tra EditUserDialog và database, dự kiến lỗi 500. |
| 27  | TC_UPDATEUSER_APP_03  | Sửa thông tin người dùng trên TaskPanel (Lần 3) | Sửa thông tin user, kiểm tra EditUserDialog và database, đảm bảo thành công. |
| 28  | TC_LOGOUT_APP_01      | Đăng xuất và quay lại màn hình đăng nhập (Lần 1) | Đăng xuất, kiểm tra giao diện và token, dự kiến lỗi (ứng dụng đóng). |
| 29  | TC_LOGOUT_APP_02      | Đăng xuất và quay lại màn hình đăng nhập (Lần 2) | Đăng xuất, kiểm tra giao diện và token, dự kiến lỗi (token không xóa). |
| 30  | TC_LOGOUT_APP_03      | Đăng xuất và quay lại màn hình đăng nhập (Lần 3) | Đăng xuất, kiểm tra giao diện và token, đảm bảo thành công. |
| 31  | TC_Token_Stored_01    | Kiểm tra token trong thư mục tokens được mã hóa | Kiểm tra token lưu trữ sau đăng nhập, đảm bảo mã hóa đúng (Base64). |
| 32  | TC_API_Secu_01        | Kiểm tra yêu cầu CSRF token trên endpoint /add | Gửi POST request tới /add không kèm CSRF token, kiểm tra response và database. |

## 5.3. Đặc tả Test Case
### 5.3.3.1. Trường hợp Kiểm thử Đăng nhập
| ID trường hợp thử nghiệm    | Mô tả trường hợp thử nghiệm                              | Tiền điều kiện                                                                 | Các bước kiểm tra                                                                 | Dữ liệu thử nghiệm                                                                                   | Kết quả mong đợi                                                                                           | Kết quả thực tế                                                                                           | Vượt qua/thất bại (P/F) |
|-----------------------------|----------------------------------------------------------|--------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|-------------------------|
| TC_LOGIN_APP_01             | Đăng nhập qua APP với user không tồn tại (Lần 1).        | - User testuser18@gmail.com chưa tồn tại trong database. <br> - Server API (http://localhost/API_Secu) đang chạy. | 1. Chạy ứng dụng Java và đăng nhập với email chưa tồn tại trong cơ sở dữ liệu. <br> 2. Bấm nút “Đăng nhập với Google”. <br> 3. Kiểm tra response và giao diện. | Email: “camtu18@gmail.com” | - Response: {"error": "Tài khoản không tồn tại hoặc chưa được admin tạo."}. <br> - Giao diện hiển thị thông báo lỗi và không chuyển sang TaskPanel. | - Response: {"error": "403 Forbidden"}. <br> - Giao diện không hiển thị thông báo lỗi cụ thể, vẫn ở màn hình đăng nhập. | F |
| TC_LOGIN_APP_02             | Đăng nhập qua APP với user không tồn tại (Lần 2).        | - User camtu18@gmail.com chưa tồn tại trong database. <br> - Server API đang chạy. <br> - Đã thêm logic kiểm tra user trong ApiController.php. | 1. Chạy ứng dụng Java và đăng nhập với camtu18@gmail.com. <br> 2. Bấm nút “Đăng nhập với Google”. <br> 3. Kiểm tra response và giao diện. | Email: “camtu18@gmail.com” | - Response: {"error": "Tài khoản không tồn tại hoặc chưa được admin tạo."}. <br> - Giao diện hiển thị thông báo lỗi và không chuyển sang TaskPanel. | - Response: {"error": "Tài khoản không tồn tại hoặc chưa được admin tạo."}. <br> - Giao diện hiển thị thông báo: "Tài khoản không tồn tại hoặc chưa được admin tạo. Vui lòng truy cập ứng dụng web tại: “http://localhost:80/API_Security/design/pages/trangchu", không chuyển sang TaskPanel. | P |
| TC_LOGIN_APP_03             | Đăng nhập qua APP với user admin đã tồn tại nhưng đã bị chặn quyền (Lần 1). | - User camtu7092003@gmail.com được tạo với role: "admin", status: "Blocked". | 1. Chạy ứng dụng Java và đăng nhập với camtu7092003@gmail.com. <br> 2. Bấm nút “Đăng nhập với Google”. <br> 3. Kiểm tra response và giao diện. | Email: “camtu7092003@gmail.com” | - Response: {"error": "Bạn chưa được cấp quyền để truy cập ứng dụng này. Tài khoản của bạn (camtu7092003@gmail.com) đã bị chặn."}. <br> - Giao diện hiển thị thông báo lỗi và không chuyển sang TaskPanel. | - Người dùng vẫn có thể truy cập được vào ứng dụng. | F |
| TC_LOGIN_APP_04             | Đăng nhập qua APP với user admin đã tồn tại nhưng đã bị chặn quyền (Lần 2). | - User camtu7092003@gmail.com được tạo với role: "admin", status: "Blocked". | 1. Chạy ứng dụng Java và đăng nhập với camtu7092003@gmail.com. <br> 2. Bấm nút “Đăng nhập với Google”. <br> 3. Kiểm tra response và giao diện. | Email: “camtu7092003@gmail.com” | - Response: {"error": "Bạn chưa được cấp quyền để truy cập ứng dụng này. Tài khoản của bạn (camtu7092003@gmail.com) đã bị chặn."}. <br> - Giao diện hiển thị thông báo lỗi và không chuyển sang TaskPanel. | - Response: {"error": "Bạn chưa được cấp quyền để truy cập ứng dụng này. Tài khoản của bạn (camtu7092003@gmail.com) đã bị chặn."}. <br> - Giao diện hiển thị thông báo lỗi và không chuyển sang TaskPanel. | P |

### 5.3.3.2. Trường hợp Kiểm thử Kiểm tra phân quyền truy cập dựa trên vai trò
| ID trường hợp thử nghiệm    | Mô tả trường hợp thử nghiệm                              | Tiền điều kiện                                                                 | Các bước kiểm tra                                                                 | Dữ liệu thử nghiệm                                                                                   | Kết quả mong đợi                                                                                           | Kết quả thực tế                                                                                           | Vượt qua/thất bại (P/F) |
|-----------------------------|----------------------------------------------------------|--------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|-------------------------|
| TC_ROLE_APP_01              | Phân quyền truy cập TaskPanel dựa trên vai trò (Lần 1).  | - User camtu7092003@gmail.com được tạo với role: "admin", status: "Active". <br> - User tuchuc848@gmail.com được tạo với role: "customer", status: "Active". | 1. Đăng nhập với camtu7092003@gmail.com trên app. <br> 2. Kiểm tra giao diện. <br> 3. Đăng xuất, sau đó đăng nhập với tuchuc848@gmail.com. <br> 4. Kiểm tra giao diện. | - Email 1: “camtu18@gmail.com” <br> - Email 2: tuchuc848@gmail.com | - Với camtu18@gmail.com, giao diện chuyển sang TaskPanel. <br> - Với tuchuc848@gmail.com, hiển thị thông báo lỗi và yêu cầu chuyển hướng đến web (http://localhost:80/API_Security/design/pages/trangchu). | - Với testuser15@gmail.com, giao diện chuyển sang TaskPanel. <br> - Với testuser16@gmail.com, giao diện vẫn chuyển sang TaskPanel (không đúng). | F |
| TC_ROLE_APP_02              | Phân quyền truy cập TaskPanel dựa trên vai trò (Lần 2)   | - User camtu7092003@gmail.com được tạo với role: "admin", status: "Active". <br> - User tuchuc848@gmail.com được tạo với role: "customer", status: "Active". <br> - Đã thêm kiểm tra authService.getLastLoginRole() trong MainWindow.java. <br> - Đã thêm logic kiểm tra user trong ApiController.php. | 1. Đăng nhập với camtu7092003@gmail.com trên app. <br> 2. Kiểm tra giao diện. <br> 3. Đăng xuất, sau đó đăng nhập với tuchuc848@gmail.com. <br> 4. Kiểm tra giao diện. | - Email 1: “camtu18@gmail.com” <br> - Email 2: tuchuc848@gmail.com | - Với camtu18@gmail.com, giao diện chuyển sang TaskPanel. <br> - Với tuchuc848@gmail.com, hiển thị thông báo lỗi và yêu cầu chuyển hướng đến web (http://localhost:80/API_Security/design/pages/trangchu). | - Với testuser15@gmail.com, lỗi NullPointerException xuất hiện trong log. <br> - Với testuser16@gmail.com, lỗi NullPointerException xuất hiện, không hiển thị thông báo. | F |
| TC_ROLE_APP_03              | Phân quyền truy cập TaskPanel dựa trên vai trò (Lần 3)   | - User camtu7092003@gmail.com được tạo với role: "admin", status: "Active". <br> - User tuchuc848@gmail.com được tạo với role: "customer", status: "Active". <br> - Đã sửa AuthService.extractRoleFromToken để gán đúng lastLoginRole. | 1. Đăng nhập với camtu7092003@gmail.com trên app. <br> 2. Kiểm tra giao diện. <br> 3. Đăng xuất, sau đó đăng nhập với tuchuc848@gmail.com. <br> 4. Kiểm tra giao diện. | - Email 1: “camtu18@gmail.com” <br> - Email 2: tuchuc848@gmail.com | - Với camtu18@gmail.com, giao diện chuyển sang TaskPanel. <br> - Với tuchuc848@gmail.com, hiển thị thông báo lỗi và yêu cầu chuyển hướng đến web (http://localhost:80/API_Security/design/pages/trangchu). | - Với testuser15@gmail.com, giao diện chuyển sang TaskPanel. <br> - Với testuser16@gmail.com, hiển thị thông báo: "Bạn chưa được cấp quyền để truy cập ứng dụng này. Vui lòng truy cập ứng dụng web tại: “http://localhost:80/API_Security/design/pages/trangchu". | P |

### 5.3.3.3. Trường hợp Kiểm thử Kiểm tra chức năng hiển thị thông tin người dùng
| ID trường hợp thử nghiệm    | Mô tả trường hợp thử nghiệm                              | Tiền điều kiện                                                                 | Các bước kiểm tra                                                                 | Dữ liệu thử nghiệm                                                                                   | Kết quả mong đợi                                                                                           | Kết quả thực tế                                                                                           | Vượt qua/thất bại (P/F) |
|-----------------------------|----------------------------------------------------------|--------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|-------------------------|
| TC_GETUSER_APP_01           | Hiển thị danh sách người dùng trên TaskPanel (Lần 1).    | - User testuser15@gmail.com đã đăng nhập với role: "admin". <br> - Có tồn tại dữ liệu về người dùng trong cơ sở dữ liệu. <br> - Server API đang chạy | 1. Kiểm tra Table hiển thị danh sách công việc. <br> 2. Thử bấm nút refresh giao diện. | - | - Table hiển thị đúng các dữ liệu về thông tin người dùng từ cơ sở dữ liệu. <br> - Sau khi refresh, dữ liệu vẫn hiển thị, không biến mất. | - Table không hiển thị danh sách về thông tin người dùng như trong cơ sở dữ liệu. <br> - Nhấn nút Refresh cũng không load được thông tin người dùng. | F |
| TC_GETUSER_APP_02           | Hiển thị danh sách người dùng trên TaskPanel (Lần 2).    | - User testuser15@gmail.com đã đăng nhập với role: "admin". <br> - Có tồn tại dữ liệu về người dùng trong cơ sở dữ liệu. <br> - Server API đang chạy | 1. Kiểm tra Table hiển thị danh sách công việc. <br> 2. Thử bấm nút refresh giao diện. | - | - Table hiển thị đúng các dữ liệu về thông tin người dùng từ cơ sở dữ liệu. <br> - Sau khi refresh, dữ liệu vẫn hiển thị, không biến mất. | - Có hiển thị thông tin người dùng, nhưng một số trường bị thiếu (null). <br> - Nhấn nút Refresh thông tin người dùng không bị biến mất. | F |
| TC_GETUSER_APP_03           | Hiển thị danh sách người dùng trên TaskPanel (Lần 3).    | - User testuser15@gmail.com đã đăng nhập với role: "admin". <br> - Có tồn tại dữ liệu về người dùng trong cơ sở dữ liệu. <br> - Server API đang chạy | 1. Kiểm tra Table hiển thị danh sách công việc. <br> 2. Thử bấm nút refresh giao diện. | - | - Table hiển thị đúng các dữ liệu về thông tin người dùng từ cơ sở dữ liệu. <br> - Sau khi refresh, dữ liệu vẫn hiển thị, không biến mất. | - Table hiển thị đúng các dữ liệu về thông tin người dùng từ cơ sở dữ liệu. <br> - Sau khi refresh, dữ liệu vẫn hiển thị, không biến mất. | P |

### 5.3.3.4. Trường hợp Kiểm thử Kiểm tra chức năng thêm thông tin người dùng
| ID trường hợp thử nghiệm    | Mô tả trường hợp thử nghiệm                              | Tiền điều kiện                                                                 | Các bước kiểm tra                                                                 | Dữ liệu thử nghiệm                                                                                   | Kết quả mong đợi                                                                                           | Kết quả thực tế                                                                                           | Vượt qua/thất bại (P/F) |
|-----------------------------|----------------------------------------------------------|--------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|-------------------------|
| TC_ADDUSER_APP_01           | Thêm người dùng mới trên TaskPanel (Lần 1).              | - User testuser15@gmail.com đã đăng nhập với role: "admin". <br> - Server API đang chạy | 1. Nhấn nút "Thêm Người dùng", nhập thông tin người dùng. <br> 2. Kiểm tra giao diện và bảng account trong MySQL. | - email: testuser21@gmail.com <br> - họ tên: Cam Tu Nguyen <br> - sdt: 0909090 | - Người dùng mới xuất hiện trong Table. <br> - Bảng account chứa bản ghi mới. | - Thông báo lỗi: “Lỗi khi thêm người dùng!” <br> - Người dùng mới không xuất hiện trong JTable. <br> - Bảng account không có bản ghi mới. | F |
| TC_ADDUSER_APP_02           | Thêm người dùng mới trên TaskPanel (Lần 2).              | - User testuser15@gmail.com đã đăng nhập với role: "admin". <br> - Server API đang chạy | 1. Nhấn nút "Thêm Người dùng", nhập thông tin người dùng. <br> 2. Kiểm tra giao diện và bảng account trong MySQL. | - email: testuser21@gmail.com <br> - họ tên: Cam Tu Nguyen <br> - sdt: 0909090 | - Người dùng mới xuất hiện trong Table. <br> - Bảng account chứa bản ghi mới. | - Thông báo lỗi: “Lỗi khi thêm người dùng!” <br> - Người dùng mới không xuất hiện trong JTable. <br> - Bảng account không có bản ghi mới. <br> - Log: "404 Not Found - Endpoint /create not defined". | F |
| TC_ADDUSER_APP_03           | Thêm người dùng mới trên TaskPanel (Lần 3).              | - User testuser15@gmail.com đã đăng nhập với role: "admin". <br> - Server API đang chạy | 1. Nhấn nút "Thêm Người dùng", nhập thông tin người dùng. <br> 2. Kiểm tra giao diện và bảng account trong MySQL. | - email: testuser21@gmail.com <br> - họ tên: Cam Tu Nguyen <br> - sdt: 0909090 | - Người dùng mới xuất hiện trong Table. <br> - Bảng account chứa bản ghi mới. | - Người dùng mới xuất hiện trong Table. <br> - Bảng account có bản ghi mới. | P |
| TC_ADDUSER_APP_04           | Thêm người dùng mới trên TaskPanel với email đã tồn tại trong cơ sở dữ liệu (Lần 1). | - User testuser15@gmail.com đã đăng nhập với role: "admin". <br> - Server API đang chạy <br> - Trong cơ sở dữ liệu có tồn tại user có email testuser22@gmail.com | 1. Nhấn nút "Thêm Người dùng", nhập thông tin người dùng. <br> 2. Kiểm tra giao diện và bảng account trong MySQL. | - email: testuser22@gmail.com <br> - họ tên: Cam Tu Nguyen <br> - sdt: 0909090 | - Thông báo lỗi: “Email này đã được sử dụng cho tài khoản khác. Vui lòng chọn email khác!” <br> - Trong Table và Database không cập nhật thêm user mới. | - Thông báo: “Thêm người dùng thành công!” <br> - Người dùng mới được cập nhật vào Table và Database. <br> - Trong cơ sở dữ liệu tồn tại 2 tài khoản có email giống nhau. | F |
| TC_ADDUSER_APP_04           | Thêm người dùng mới trên TaskPanel với email đã tồn tại trong cơ sở dữ liệu (Lần 2). | - User testuser22@gmail.com đã đăng nhập với role: "admin". <br> - Server API đang chạy | 1. Nhấn nút "Thêm Người dùng", nhập thông tin người dùng. <br> 2. Kiểm tra giao diện và bảng account trong MySQL. | - email: testuser22@gmail.com <br> - họ tên: Cam Tu Nguyen <br> - sdt: 0909090 | - Thông báo lỗi: “Email này đã được sử dụng cho tài khoản khác. Vui lòng chọn email khác!” <br> - Trong Table và Database không cập nhật thêm user mới. | - Thông báo lỗi: “Email này đã được sử dụng cho tài khoản khác. Vui lòng chọn email khác!” <br> - Trong Table và Database không cập nhật thêm user mới. | P |

### 5.3.3.5. Trường hợp Kiểm thử Kiểm tra chức năng xóa người dùng
| ID trường hợp thử nghiệm    | Mô tả trường hợp thử nghiệm                              | Tiền điều kiện                                                                 | Các bước kiểm tra                                                                 | Dữ liệu thử nghiệm                                                                                   | Kết quả mong đợi                                                                                           | Kết quả thực tế                                                                                           | Vượt qua/thất bại (P/F) |
|-----------------------------|----------------------------------------------------------|--------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|-------------------------|
| TC_DELETEUSER_APP_01        | Xóa người dùng trên TaskPanel (Lần 1).                  | - User testuser15@gmail.com đã đăng nhập với role: "admin". <br> - Server API đang chạy | 1. Chọn hàng dữ liệu của user muốn xóa. <br> 2. Nhấn nút “Xóa người dùng”. <br> 3. Nhấn “Có” trong bảng Xác nhận Xóa. <br> 4. Kiểm tra giao diện và bảng account. | Hàng dữ liệu của tài khoản có mail testuser21@gmail.com | - Tài khoản và tất cả thông tin của testuser21@gmail.com bị xóa khỏi Table và database. | - Thông báo lỗi: “Lỗi khi xóa người dùng!” <br> - Tài khoản và tất cả thông tin của testuser21@gmail.com không bị xóa. <br> - Bảng account vẫn còn hiển thị người dùng testuser21@gmail.com. | F |
| TC_DELETEUSER_APP_02        | Xóa người dùng trên TaskPanel (Lần 2).                  | - User testuser15@gmail.com đã đăng nhập với role: "admin". <br> - Server API đang chạy | 1. Chọn hàng dữ liệu của user muốn xóa. <br> 2. Nhấn nút “Xóa người dùng”. <br> 3. Nhấn “Có” trong bảng Xác nhận Xóa. <br> 4. Kiểm tra giao diện và bảng account. | Hàng dữ liệu của tài khoản có mail testuser21@gmail.com | - Tài khoản và tất cả thông tin của testuser21@gmail.com bị xóa khỏi Table và database. | - Thông báo lỗi: “Lỗi khi xóa người dùng!” <br> - Tài khoản và tất cả thông tin của testuser21@gmail.com không bị xóa. <br> - Bảng account vẫn còn ghi của testuser21@gmail.com. | F |
| TC_DELETEUSER_APP_03        | Xóa người dùng trên TaskPanel (Lần 3).                  | - User testuser15@gmail.com đã đăng nhập với role: "admin". <br> - Server API đang chạy | 1. Chọn hàng dữ liệu của user muốn xóa. <br> 2. Nhấn nút “Xóa người dùng”. <br> 3. Nhấn “Có” trong bảng Xác nhận Xóa. <br> 4. Kiểm tra giao diện và bảng account. | Hàng dữ liệu của tài khoản có mail testuser21@gmail.com | - Tài khoản và tất cả thông tin của testuser21@gmail.com bị xóa khỏi Table và database. | - Tài khoản và tất cả thông tin của testuser21@gmail.com bị xóa khỏi Table. <br> - Bảng account không còn bản ghi testuser21@gmail.com. | P |

### 5.3.3.6. Trường hợp Kiểm thử Kiểm tra chức năng sửa thông tin người dùng
| ID trường hợp thử nghiệm    | Mô tả trường hợp thử nghiệm                              | Tiền điều kiện                                                                 | Các bước kiểm tra                                                                 | Dữ liệu thử nghiệm                                                                                   | Kết quả mong đợi                                                                                           | Kết quả thực tế                                                                                           | Vượt qua/thất bại (P/F) |
|-----------------------------|----------------------------------------------------------|--------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|-------------------------|
| TC_UPDATEUSER_APP_01        | Sửa thông tin người dùng trên TaskPanel (Lần 1).         | - User testuser15@gmail.com đã đăng nhập với role: "admin". <br> - Có người dùng testuser21@gmail.com trong database, các thông tin của người dùng được hiển thị. <br> - Server API đang chạy | 1. Chọn hàng của testuser21@gmail.com trong Table. <br> 2. Nhấn nút "Sửa Người dùng". <br> 3. Kiểm tra EditUserDialog có hiện không. <br> 4. Thay đổi số điện thoại từ “0909” thành “7878”, nhấn "Lưu". <br> 5. Kiểm tra giao diện và database. | phone: “7878” | - EditUserDialog hiển thị thông tin hiện tại của user: email: "testuser21@gmail.com", role: "customer", status: "Active", phone: “0909”. <br> - Sau khi nhấn "Lưu", Table và database cập nhật phone: “7878”. | - EditUserDialog mở nhưng các trường trống (email, role, status không được điền). <br> - Nhấn "Lưu" không có tác dụng, Table và database không thay đổi. <br> - Log: "No data retrieved for selected row, invalid row selection in JTable". | F |
| TC_UPDATEUSER_APP_02        | Sửa thông tin người dùng trên TaskPanel (Lần 2).         | - User testuser15@gmail.com đã đăng nhập với role: "admin". <br> - Có người dùng testuser21@gmail.com trong database, các thông tin của người dùng được hiển thị. <br> - Server API đang chạy. <br> - Đã sửa logic lấy dữ liệu từ JTable bằng getSelectedRow() và getValueAt(). | 1. Chọn hàng của testuser21@gmail.com trong Table. <br> 2. Nhấn nút "Sửa Người dùng". <br> 3. Kiểm tra EditUserDialog có hiện không. <br> 4. Thay đổi số điện thoại từ “0909” thành “7878”, nhấn "Lưu". <br> 5. Kiểm tra giao diện và database. | phone: “7878” | - EditUserDialog hiển thị thông tin hiện tại của user: email: "testuser21@gmail.com", role: "customer", status: "Active", phone: “0909”. <br> - Sau khi nhấn "Lưu", Table và database cập nhật phone: “7878”. | - EditUserDialog hiển thị đúng thông tin: email: "testuser21@gmail.com", role: "customer", status: "Active", phone: “7878”. <br> - Sau khi nhấn "Lưu", giao diện không cập nhật. <br> - Log: "500 Internal Server Error - Endpoint /update failed to process PUT request". <br> - Database không thay đổi. | F |
| TC_UPDATEUSER_APP_03        | Sửa thông tin người dùng trên TaskPanel (Lần 3).         | - User testuser15@gmail.com đã đăng nhập với role: "admin". <br> - Có người dùng testuser21@gmail.com trong database, các thông tin của người dùng được hiển thị. <br> - Server API đang chạy. <br> - Đã thêm case 'update' trong ApiController.php với phương thức PUT. | 1. Chọn hàng của testuser21@gmail.com trong Table. <br> 2. Nhấn nút "Sửa Người dùng". <br> 3. Kiểm tra EditUserDialog có hiện không. <br> 4. Thay đổi số điện thoại từ “0909” thành “7878”, nhấn "Lưu". <br> 5. Kiểm tra giao diện và database. | phone: “7878” | - EditUserDialog hiển thị thông tin hiện tại của user: email: "testuser21@gmail.com", role: "customer", status: "Active", phone: “0909”. <br> - Sau khi nhấn "Lưu", Table và database cập nhật phone: “7878”. | - EditUserDialog hiển thị đúng thông tin: email: "testuser21@gmail.com", role: "customer", status: "Active", phone: “7878”. <br> - Sau khi nhấn "Lưu", Table cập nhật: phone: "7878". <br> - Database cập nhật: email: "testuser21@gmail.com", role: "admin", status: "Active", phone: “7878”. | P |

### 5.3.3.7. Trường hợp Kiểm thử Kiểm tra đăng xuất
| ID trường hợp thử nghiệm    | Mô tả trường hợp thử nghiệm                              | Tiền điều kiện                                                                 | Các bước kiểm tra                                                                 | Dữ liệu thử nghiệm                                                                                   | Kết quả mong đợi                                                                                           | Kết quả thực tế                                                                                           | Vượt qua/thất bại (P/F) |
|-----------------------------|----------------------------------------------------------|--------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|-------------------------|
| TC_LOGOUT_APP_01            | Đăng xuất và quay lại màn hình đăng nhập (Lần 1).        | - User testuser15@gmail.com đã đăng nhập với role: "admin". <br> - Server API đang chạy <br> - Token đã được lưu trong Preferences và user_tokens. | 1. Nhấn nút "Đăng xuất" trên TaskPanel. <br> 2. Kiểm tra giao diện và bảng user_tokens. | - | - Giao diện chuyển về LoginPanel. <br> - Token bị xóa khỏi Preferences và user_tokens. | - Ứng dụng đóng hoàn toàn, không chuyển về LoginPanel. <br> - Token không bị xóa khỏi Preferences và user_tokens. | F |
| TC_LOGOUT_APP_02            | Đăng xuất và quay lại màn hình đăng nhập (Lần 2).        | - User testuser15@gmail.com đã đăng nhập với role: "admin". <br> - Server API đang chạy | 1. Nhấn nút "Đăng xuất" trên TaskPanel. <br> 2. Kiểm tra giao diện và bảng user_tokens. | - | - Giao diện chuyển về LoginPanel. <br> - Token bị xóa khỏi Preferences và user_tokens. | - Giao diện chuyển về LoginPanel. <br> - Token vẫn tồn tại trong Preferences và user_tokens. | F |
| TC_LOGOUT_APP_03            | Đăng xuất và quay lại màn hình đăng nhập (Lần 3).        | - User testuser15@gmail.com đã đăng nhập với role: "admin". <br> - Server API đang chạy | 1. Nhấn nút "Đăng xuất" trên TaskPanel. <br> 2. Kiểm tra giao diện và bảng user_tokens. | - | - Giao diện chuyển về LoginPanel. <br> - Token bị xóa khỏi Preferences và user_tokens. | - Giao diện chuyển về LoginPanel. <br> - Token bị xóa khỏi Preferences và user_tokens. | P |

## Công cụ Sử dụng
- Postman cho xác thực API.
- OWASP ZAP cho quét bảo mật.

## Kết quả
Tham khảo `docs/Test_Reports/Test_Report.pdf` và `docs/Screenshots` để xem kết quả chi tiết.
