# Bug Report

| Bug ID                   | Description/Summary                                                                 | Steps to Reproduce                                                                                                                                 | Test Data                                                                 | Expected Result                                                                                                                    | Actual Result                                                                                                                               | Severity | Priority     |
|--------------------------|------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|----------|--------------|
| BUG-TC_LOGIN_APP_01      | Đăng nhập qua ứng dụng với user không tồn tại không hiển thị thông báo lỗi cụ thể   | 1. Chạy ứng dụng Java và đăng nhập với email không tồn tại trong cơ sở dữ liệu.<br>2. Nhấn nút "Login with Google".<br>3. Kiểm tra response và giao diện. | Email: camtu18@gmail.com                                                  | Response: {"error": "Tài khoản không tồn tại hoặc chưa được admin tạo."}.<br>Giao diện hiển thị thông báo lỗi và không chuyển sang TaskPanel. | Response: {"error": "403 Forbidden"}.<br>Giao diện không hiển thị thông báo lỗi cụ thể, vẫn ở màn hình đăng nhập.                           | Major    | P1 (Medium)  |
| BUG-TC_LOGIN_APP_03      | Đăng nhập qua ứng dụng với user admin bị chặn vẫn cho phép truy cập                 | 1. Chạy ứng dụng Java và đăng nhập với email camtu7092003@gmail.com (role: admin, status: Blocked).<br>2. Nhấn nút "Login with Google".<br>3. Kiểm tra response và giao diện. | Email: camtu7092003@gmail.com                                             | Response: {"error": "Bạn chưa được cấp quyền để truy cập ứng dụng này. Tài khoản của bạn (camtu7092003@gmail.com) đã bị chặn."}.<br>Giao diện hiển thị thông báo lỗi và không chuyển sang TaskPanel. | Người dùng vẫn có thể truy cập được vào ứng dụng.                                                                                          | Critical | P1 (Medium)  |
| BUG-TC_ROLE_APP_01       | Phân quyền truy cập TaskPanel không đúng với vai trò customer                       | 1. Đăng nhập với camtu7092003@gmail.com (role: admin, status: Active) trên ứng dụng.<br>2. Kiểm tra giao diện.<br>3. Đăng xuất, sau đó đăng nhập với tuchuc848@gmail.com (role: customer, status: Active).<br>4. Kiểm tra giao diện. | Email 1: camtu18@gmail.com<br>Email 2: tuchuc848@gmail.com                 | Với camtu18@gmail.com, giao diện chuyển sang TaskPanel.<br>Với tuchuc848@gmail.com, hiển thị thông báo lỗi và yêu cầu chuyển hướng đến web. | Với testuser15@gmail.com, giao diện chuyển sang TaskPanel.<br>Với testuser16@gmail.com, giao diện vẫn chuyển sang TaskPanel (không đúng).     | Critical | P1 (Medium)  |
| BUG-TC_ROLE_APP_02       | Phân quyền truy cập TaskPanel gây lỗi NullPointerException                          | 1. Đăng nhập với camtu7092003@gmail.com (role: admin, status: Active) trên ứng dụng.<br>2. Kiểm tra giao diện.<br>3. Đăng xuất, sau đó đăng nhập với tuchuc848@gmail.com (role: customer, status: Active).<br>4. Kiểm tra giao diện. | Email 1: camtu18@gmail.com<br>Email 2: tuchuc848@gmail.com                 | Với camtu18@gmail.com, giao diện chuyển sang TaskPanel.<br>Với tuchuc848@gmail.com, hiển thị thông báo lỗi và yêu cầu chuyển hướng đến web. | Với testuser15@gmail.com, lỗi NullPointerException xuất hiện trong log.<br>Với testuser16@gmail.com, lỗi NullPointerException xuất hiện, không hiển thị thông báo. | Major    | P1 (Medium)  |
| BUG-TC_GETUSER_APP_01    | Table không hiển thị danh sách người dùng và nút Refresh không hoạt động            | 1. Đăng nhập với testuser15@gmail.com (role: admin).<br>2. Kiểm tra Table hiển thị danh sách công việc.<br>3. Nhấn nút Refresh giao diện. | Không áp dụng                                                             | Table hiển thị đúng các dữ liệu về thông tin người dùng từ cơ sở dữ liệu.<br>Sau khi refresh, dữ liệu vẫn hiển thị, không biến mất. | Table không hiển thị danh sách về thông tin người dùng như trong cơ sở dữ liệu.<br>Nhấn nút Refresh cũng không load được thông tin người dùng. | Major    | P1 (Medium)  |
| BUG-TC_GETUSER_APP_02    | Hiển thị danh sách người dùng nhưng một số trường bị thiếu (null)                   | 1. Đăng nhập với testuser15@gmail.com (role: admin).<br>2. Kiểm tra Table hiển thị danh sách công việc.<br>3. Nhấn nút Refresh giao diện. | Không áp dụng                                                             | Table hiển thị đúng các dữ liệu về thông tin người dùng từ cơ sở dữ liệu.<br>Sau khi refresh, dữ liệu vẫn hiển thị, không biến mất. | Có hiển thị thông tin người dùng, nhưng một số trường bị thiếu (null).<br>Nhấn nút Refresh thông tin người dùng không bị biến mất.            | Major    | P1 (Medium)  |
| BUG-TC_ADDUSER_APP_01    | Thêm người dùng mới không thành công                                               | 1. Đăng nhập với testuser15@gmail.com (role: admin).<br>2. Nhấn nút "Add User", nhập thông tin người dùng.<br>3. Kiểm tra giao diện và bảng account trong MySQL. | email: testuser21@gmail.com<br>họ tên: Cam Tu Nguyen<br>sdt: 0909090      | Người dùng mới xuất hiện trong Table.<br>Bảng account chứa bản ghi mới.                                                                    | Thông báo lỗi: “Lỗi khi thêm người dùng!”<br>Người dùng mới không xuất hiện trong JTable.<br>Bảng account không có bản ghi mới.             | Major    | P1 (Medium)  |
| BUG-TC_ADDUSER_APP_02    | Thêm người dùng mới gây lỗi 404 Not Found                                          | 1. Đăng nhập với testuser15@gmail.com (role: admin).<br>2. Nhấn nút "Add User", nhập thông tin người dùng.<br>3. Kiểm tra giao diện và bảng account trong MySQL. | email: testuser21@gmail.com<br>họ tên: Cam Tu Nguyen<br>sdt: 0909090      | Người dùng mới xuất hiện trong Table.<br>Bảng account chứa bản ghi mới.                                                                    | Thông báo lỗi: “Lỗi khi thêm người dùng!”<br>Người dùng mới không xuất hiện trong JTable.<br>Bảng account không có bản ghi mới.<br>Log: "404 Not Found - Endpoint /create not defined". | Major    | P1 (Medium)  |
| BUG-TC_ADDUSER_APP_04    | Thêm người dùng với email đã tồn tại cho phép thêm vào cơ sở dữ liệu               | 1. Đăng nhập với testuser15@gmail.com (role: admin).<br>2. Nhấn nút "Add User", nhập thông tin người dùng với email đã tồn tại (testuser22@gmail.com).<br>3. Kiểm tra giao diện và bảng account trong MySQL. | email: testuser22@gmail.com<br>họ tên: Cam Tu Nguyen<br>sdt: 0909090      | Thông báo lỗi: “Email này đã được sử dụng cho tài khoản khác. Vui lòng chọn email khác!”<br>Trong Table và Database không cập nhật thêm user mới. | Thông báo: “Thêm người dùng thành công!”<br>Người dùng mới được cập nhật vào Table và Database.<br>Trong cơ sở dữ liệu tồn tại 2 tài khoản có email giống nhau. | Critical | P1 (Medium)  |
| BUG-TC_DELETEUSER_APP_01 | Xóa người dùng không thành công                                                    | 1. Đăng nhập với testuser15@gmail.com (role: admin).<br>2. Chọn hàng dữ liệu của user testuser21@gmail.com.<br>3. Nhấn nút “Delete user”.<br>4. Nhấn “yes” trong bảng Confirm Delete.<br>5. Kiểm tra giao diện và bảng account. | Hàng dữ liệu của tài khoản có mail testuser21@gmail.com                   | Tài khoản và tất cả thông tin của testuser21@gmail.com bị xóa khỏi Table và database.                                                      | Thông báo lỗi: “Lỗi khi xóa người dùng!”<br>Tài khoản và tất cả thông tin của testuser21@gmail.com không bị xóa.<br>Bảng account vẫn còn hiển thị người dùng testuser21@gmail.com. | Major    | P1 (Medium)  |
| BUG-TC_DELETEUSER_APP_02 | Xóa người dùng không thành công                                                    | 1. Đăng nhập với testuser15@gmail.com (role: admin).<br>2. Chọn hàng dữ liệu của user testuser21@gmail.com.<br>3. Nhấn nút “Delete user”.<br>4. Nhấn “yes” trong bảng Confirm Delete.<br>5. Kiểm tra giao diện và bảng account. | Hàng dữ liệu của tài khoản có mail testuser21@gmail.com                   | Tài khoản và tất cả thông tin của testuser21@gmail.com bị xóa khỏi Table và database.                                                      | Thông báo lỗi: “Lỗi khi xóa người dùng!”<br>Tài khoản và tất cả thông tin của testuser21@gmail.com không bị xóa.<br>Bảng account vẫn còn ghi của testuser21@gmail.com. | Major    | P1 (Medium)  |
| BUG-TC_UPDATEUSER_APP_01 | Sửa thông tin người dùng không hiển thị dữ liệu trong EditUserDialog                | 1. Đăng nhập với testuser15@gmail.com (role: admin).<br>2. Chọn hàng của testuser21@gmail.com trong Table.<br>3. Nhấn nút "Edit User".<br>4. Kiểm tra EditUserDialog.<br>5. Thay đổi số điện thoại từ “0909” thành “7878”, nhấn "Save".<br>6. Kiểm tra giao diện và database. | phone: “7878”                                                             | EditUserDialog hiển thị thông tin hiện tại của user: email: "testuser21@gmail.com", role: "customer", status: "Active", phone: “0909”.<br>Sau khi nhấn "Save", Table và database cập nhật phone: “7878”. | EditUserDialog mở nhưng các trường trống (email, role, status không được điền).<br>Nhấn "Save" không có tác dụng, Table và database không thay đổi.<br>Log: "No data retrieved for selected row, invalid row selection in JTable". | Major    | P1 (Medium)  |
| BUG-TC_UPDATEUSER_APP_02 | Sửa thông tin người dùng gây lỗi 500 Internal Server Error                          | 1. Đăng nhập với testuser15@gmail.com (role: admin).<br>2. Chọn hàng của testuser21@gmail.com trong Table.<br>3. Nhấn nút "Edit User".<br>4. Kiểm tra EditUserDialog.<br>5. Thay đổi số điện thoại từ “0909” thành “7878”, nhấn "Save".<br>6. Kiểm tra giao diện và database. | phone: “7878”                                                             | EditUserDialog hiển thị thông tin hiện tại của user: email: "testuser21@gmail.com", role: "customer", status: "Active", phone: “0909”.<br>Sau khi nhấn "Save", Table và database cập nhật phone: “7878”. | EditUserDialog hiển thị đúng thông tin: email: "testuser21@gmail.com", role: "customer", status: "Active", phone: “7878”.<br>Sau khi nhấn "Save", giao diện không cập nhật.<br>Log: "500 Internal Server Error -IEndpoint /update failed to process PUT request".<br>Database không thay đổi. | Major    | P1 (Medium)  |
| BUG-TC_LO personallyGout_APP_01     | Đăng xuất làm ứng dụng đóng hoàn toàn                                              | 1. Đăng nhập với testuser15@gmail.com (role: admin).<br>2. Nhấn nút "Logout" trên TaskPanel.<br>3. Kiểm tra giao diện và bảng user_tokens. | Không áp dụng                                                             | Giao diện chuyển về LoginPanel.<br>Token bị xóa khỏi Preferences và user_tokens.                                                           | Ứng dụng đóng hoàn toàn, không chuyển về LoginPanel.<br>Token không bị xóa khỏi Preferences và user_tokens.                                  | Critical | P1 (Medium)  |
| BUG-TC_LOGOUT_APP_02     | Đăng xuất không xóa token khỏi Preferences và user_tokens                          | 1. Đăng nhập với testuser15@gmail.com (role: admin).<br>2. Nhấn nút "Logout" trên TaskPanel.<br>3. Kiểm tra giao diện và bảng user_tokens. | Không áp dụng                                                             | Giao diện chuyển về LoginPanel.<br>Token bị xóa khỏi Preferences và user_tokens.                                                           | Giao diện chuyển về LoginPanel.<br>Token vẫn tồn tại trong Preferences và user_tokens.                                                     | Major    | P1 (Medium)  |